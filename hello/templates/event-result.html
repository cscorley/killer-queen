{% extends 'base.html' %}

{% load tz %}

{% block content %}

<div class="container">
    <h1>{{ event.name }}</h1>
    Tournament time: {{ event.when | timezone:event.timezone }} ({{ event.when | utc }} UTC) <br/>
    Tournament style: {{ event.tournament_style }} <br/>
    <div class="col-md-4">
        <h2>Teams</h2>
        <br />
        <ol>
        {% for team in event.teams.all %}
            <li> {{ team.name }}
                {% if user.is_staff %} <small style="color: grey">(r={{ team.get_rating_mean |floatformat:1 }})</small> {% endif %}
                <br /><ol>
            {% for player in team.members.all %}
                {% if player %}
                    <li> {{ player.user.get_full_name }}
                    {% if user.is_staff %} <small style="color: grey">({{ player.user.username }}, r={{ player.trueskill_rating_exposure|floatformat:1 }})</small> {% endif %}
                    </li>
                {% else %}
                    <strong><li> </li></strong>
                {% endif %}
            {% endfor %}
            </ol></li>
        {% endfor %}
        </ol>
    </div>

    <div class="col-md-8">
        <h2>Game results</h2>
        <br />
        <ol>
        {% for game in games %}
            <li> {{ game }} </li>
        {% endfor %}
        </ol>
    </div>
</div>

{% endblock %}
